<md-card>

 <md-toolbar>Панель администратора</md-toolbar>


<div class="table-responsive">
  <table class="table  table-hover table-striped  table-condensed dataTables-example" >
    <thead>
    <tr appSort [(predicate)]="predicate" [(ascending)]="reverse" [callback]="transition.bind(this)">
        <th jhiSortBy="login"><span>Login</span> <span class="fa fa-sort"></span></th>
        <th jhiSortBy="email"><span>Email</span> <span class="fa fa-sort"></span></th>
        <th></th>
        <th jhiSortBy="langKey"> <span>Lang Key</span> <span class="fa fa-sort"></span></th>
        <th><span>Profiles</span></th>
        <th jhiSortBy="createdDate"><span>Created Date</span> <span class="fa fa-sort"></span></th>
        <th jhiSortBy="lastModifiedBy"><span>Last Modified By</span> <span class="fa fa-sort"></span></th>
        <th jhiSortBy="lastModifiedDate"><span>Last Modified Date</span> <span class="fa fa-sort"></span></th>
        <th></th>
    </tr>
    </thead>
    <tbody *ngIf ="users">
    <tr *ngFor="let user of users; trackBy: trackIdentity">
      <td><a [routerLink]="['../user-management', user.login]">{{user.id}}</a></td>
      <td>{{user.login}}</td>
      <td>{{user.email}}</td>
      <td>
        <md-slide-toggle
          color="accent"
          [checked]="user.activated"
          (click)="setActive(user, !user.activated)">
        </md-slide-toggle>
      </td>
      <td>{{user.langKey}}</td>
      <td>
          <div *ngFor="let authority of user.authorities">
              <span class="tag tag-info">{{ authority }}</span>
          </div>
      </td>
      <td>{{user.createdDate | date:'dd/MM/yy HH:mm'}}</td>
      <td>{{user.lastModifiedBy}}</td>
      <td>{{user.lastModifiedDate | date:'dd/MM/yy HH:mm'}}</td>
      <td>
        <button md-mini-fab mdTooltip="Просмотр деталей" [mdTooltipShowDelay]="300" [mdTooltipPosition]="'before'" 
            [routerLink]="['/', { outlets: { popup: 'user/' + user.login + '/detail' } }]"><md-icon>visibility</md-icon></button>
        <button md-mini-fab mdTooltip="Редактировать точку" [mdTooltipShowDelay]="300" [mdTooltipPosition]="'before'" 
            [routerLink]="['/', { outlets: { popup: 'user/' + user.login + '/edit' } }]"><md-icon>create</md-icon></button>
      </td>
    </tr>
    </tbody>
  </table>
  <ngb-pagination [collectionSize]="200" [(page)]="page" [maxSize]="7" [rotate]="true" (pageChange)="loadPage($event)"></ngb-pagination>
  </div>


</md-card>
